[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"Apache License","title":"Apache License","text":"Version 2.0, January 2004 <http://www.apache.org/licenses/>","code":""},{"path":[]},{"path":"/LICENSE.html","id":"1-definitions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"1. Definitions","title":"Apache License","text":"“License” shall mean terms conditions use, reproduction, distribution defined Sections 1 9 document. “Licensor” shall mean copyright owner entity authorized copyright owner granting License. “Legal Entity” shall mean union acting entity entities control, controlled , common control entity. purposes definition, “control” means () power, direct indirect, cause direction management entity, whether contract otherwise, (ii) ownership fifty percent (50%) outstanding shares, (iii) beneficial ownership entity. “” (“”) shall mean individual Legal Entity exercising permissions granted License. “Source” form shall mean preferred form making modifications, including limited software source code, documentation source, configuration files. “Object” form shall mean form resulting mechanical transformation translation Source form, including limited compiled object code, generated documentation, conversions media types. “Work” shall mean work authorship, whether Source Object form, made available License, indicated copyright notice included attached work (example provided Appendix ). “Derivative Works” shall mean work, whether Source Object form, based (derived ) Work editorial revisions, annotations, elaborations, modifications represent, whole, original work authorship. purposes License, Derivative Works shall include works remain separable , merely link (bind name) interfaces , Work Derivative Works thereof. “Contribution” shall mean work authorship, including original version Work modifications additions Work Derivative Works thereof, intentionally submitted Licensor inclusion Work copyright owner individual Legal Entity authorized submit behalf copyright owner. purposes definition, “submitted” means form electronic, verbal, written communication sent Licensor representatives, including limited communication electronic mailing lists, source code control systems, issue tracking systems managed , behalf , Licensor purpose discussing improving Work, excluding communication conspicuously marked otherwise designated writing copyright owner “Contribution.” “Contributor” shall mean Licensor individual Legal Entity behalf Contribution received Licensor subsequently incorporated within Work.","code":""},{"path":"/LICENSE.html","id":"2-grant-of-copyright-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"2. Grant of Copyright License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable copyright license reproduce, prepare Derivative Works , publicly display, publicly perform, sublicense, distribute Work Derivative Works Source Object form.","code":""},{"path":"/LICENSE.html","id":"3-grant-of-patent-license","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"3. Grant of Patent License","title":"Apache License","text":"Subject terms conditions License, Contributor hereby grants perpetual, worldwide, non-exclusive, -charge, royalty-free, irrevocable (except stated section) patent license make, made, use, offer sell, sell, import, otherwise transfer Work, license applies patent claims licensable Contributor necessarily infringed Contribution(s) alone combination Contribution(s) Work Contribution(s) submitted. institute patent litigation entity (including cross-claim counterclaim lawsuit) alleging Work Contribution incorporated within Work constitutes direct contributory patent infringement, patent licenses granted License Work shall terminate date litigation filed.","code":""},{"path":"/LICENSE.html","id":"4-redistribution","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"4. Redistribution","title":"Apache License","text":"may reproduce distribute copies Work Derivative Works thereof medium, without modifications, Source Object form, provided meet following conditions: () must give recipients Work Derivative Works copy License; (b) must cause modified files carry prominent notices stating changed files; (c) must retain, Source form Derivative Works distribute, copyright, patent, trademark, attribution notices Source form Work, excluding notices pertain part Derivative Works; (d) Work includes “NOTICE” text file part distribution, Derivative Works distribute must include readable copy attribution notices contained within NOTICE file, excluding notices pertain part Derivative Works, least one following places: within NOTICE text file distributed part Derivative Works; within Source form documentation, provided along Derivative Works; , within display generated Derivative Works, wherever third-party notices normally appear. contents NOTICE file informational purposes modify License. may add attribution notices within Derivative Works distribute, alongside addendum NOTICE text Work, provided additional attribution notices construed modifying License. may add copyright statement modifications may provide additional different license terms conditions use, reproduction, distribution modifications, Derivative Works whole, provided use, reproduction, distribution Work otherwise complies conditions stated License.","code":""},{"path":"/LICENSE.html","id":"5-submission-of-contributions","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"5. Submission of Contributions","title":"Apache License","text":"Unless explicitly state otherwise, Contribution intentionally submitted inclusion Work Licensor shall terms conditions License, without additional terms conditions. Notwithstanding , nothing herein shall supersede modify terms separate license agreement may executed Licensor regarding Contributions.","code":""},{"path":"/LICENSE.html","id":"6-trademarks","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"6. Trademarks","title":"Apache License","text":"License grant permission use trade names, trademarks, service marks, product names Licensor, except required reasonable customary use describing origin Work reproducing content NOTICE file.","code":""},{"path":"/LICENSE.html","id":"7-disclaimer-of-warranty","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"7. Disclaimer of Warranty","title":"Apache License","text":"Unless required applicable law agreed writing, Licensor provides Work (Contributor provides Contributions) “” BASIS, WITHOUT WARRANTIES CONDITIONS KIND, either express implied, including, without limitation, warranties conditions TITLE, NON-INFRINGEMENT, MERCHANTABILITY, FITNESS PARTICULAR PURPOSE. solely responsible determining appropriateness using redistributing Work assume risks associated exercise permissions License.","code":""},{"path":"/LICENSE.html","id":"8-limitation-of-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"8. Limitation of Liability","title":"Apache License","text":"event legal theory, whether tort (including negligence), contract, otherwise, unless required applicable law (deliberate grossly negligent acts) agreed writing, shall Contributor liable damages, including direct, indirect, special, incidental, consequential damages character arising result License use inability use Work (including limited damages loss goodwill, work stoppage, computer failure malfunction, commercial damages losses), even Contributor advised possibility damages.","code":""},{"path":"/LICENSE.html","id":"9-accepting-warranty-or-additional-liability","dir":"","previous_headings":"Terms and Conditions for use, reproduction, and distribution","what":"9. Accepting Warranty or Additional Liability","title":"Apache License","text":"redistributing Work Derivative Works thereof, may choose offer, charge fee , acceptance support, warranty, indemnity, liability obligations /rights consistent License. However, accepting obligations, may act behalf sole responsibility, behalf Contributor, agree indemnify, defend, hold Contributor harmless liability incurred , claims asserted , Contributor reason accepting warranty additional liability. END TERMS CONDITIONS","code":""},{"path":"/LICENSE.html","id":"appendix-how-to-apply-the-apache-license-to-your-work","dir":"","previous_headings":"","what":"APPENDIX: How to apply the Apache License to your work","title":"Apache License","text":"apply Apache License work, attach following boilerplate notice, fields enclosed brackets [] replaced identifying information. (Don’t include brackets!) text enclosed appropriate comment syntax file format. also recommend file class name description purpose included “printed page” copyright notice easier identification within third-party archives.","code":"Copyright 2022 F. Hoffmann-La Roche AG  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at    http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License."},{"path":"/articles/contribution_model.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Contribution to {datacutr}","text":"vignette gives overview anticipated contribution model. goal enable users {datacutr} contribute test contribution model {datacutr}. Adjustments might made time.","code":""},{"path":"/articles/contribution_model.html","id":"basics","dir":"Articles","previous_headings":"","what":"Basics","title":"Contribution to {datacutr}","text":"new contribution, user creates issue issue tab GitHub put backlog. created issues reviewed within next sprint creator receive initial feedback via comment. Someone core development team triage new issues assigning appropriate labels (“user request” can easily identify new requests). Issues meant taken users Pharma programming community exclusively {datacutr} team Roche.","code":""},{"path":"/articles/contribution_model.html","id":"contribution-model","dir":"Articles","previous_headings":"","what":"Contribution Model","title":"Contribution to {datacutr}","text":"Type 1 Contribution Code: First, user creates issue comments existing issue notify ’d like contribute code. Follow development process step--step guide. advise contact {datacutr} core development team directly. Type 2 Contribution without Code: User creates issue ideally contacts {datacutr} team member. {datacutr} core development team contact issue creator soon possible discuss details.","code":""},{"path":"/articles/datacutr.html","id":"main-idea","dir":"Articles","previous_headings":"","what":"Main Idea","title":"Get Started","text":"main idea {datacutr} provide standardized approach applying datacut SDTM datasets. process applied package following, * create meta dataset DCUT references patients included within cut, cut date used reference (normally Clinical Cut-Date data cleaned ). * using DCUT reference, records can removed SDTM data either ) patients part reference DCUT, b) records can identified data cut date supplied. package relies creating lists SDTM processed specific ways, include, * cut - SDTM remain exactly source * Patient cut - Patients identified source meta DCUT kept, exclusion records conducted * Date cut - Patients identified source meta DCUT kept, records identified data cut date removed * Special DM cut - DM contains critical temporal derivations around Deaths require update within data cut, option allows user revert DM.DTHFL DM.DTHDTC death identified data cut date","code":""},{"path":"/articles/datacutr.html","id":"load-packages-and-example-datasets","dir":"Articles","previous_headings":"Main Idea","what":"Load Packages and Example Datasets","title":"Get Started","text":"First, load packages example datasets.","code":"# Load packages"},{"path":"/articles/datacutr.html","id":"validation","dir":"Articles","previous_headings":"","what":"Validation","title":"Get Started","text":"functions reviewed tested ensure work described documentation. validated yet.","code":""},{"path":"/articles/datacutr.html","id":"starting-a-script","dir":"Articles","previous_headings":"","what":"Starting a Script","title":"Get Started","text":"{datacutr} provides template R scripts starting point. See specific vignette pages details.","code":""},{"path":"/articles/datacutr.html","id":"support","dir":"Articles","previous_headings":"","what":"Support","title":"Get Started","text":"Support provided via {datacutr} Slack channel (link added).","code":""},{"path":"/articles/datacutr.html","id":"see-also","dir":"Articles","previous_headings":"","what":"See also","title":"Get Started","text":"Template scripts","code":""},{"path":[]},{"path":[]},{"path":"/articles/faq.html","id":"why-did-we-use-r-as-a-programming-language","dir":"Articles","previous_headings":"","what":"Why did we use R as a programming language?","title":"FAQ","text":"R isolated software product, everyone can contribute (open source principal) People University/Statistical talent pipeline likely come R skills rather proprietary language seems strong data science/analytics R community FDA open accepting R submissions heavy users Top line visualization/graphics - R-Shiny interactive data displays also R Markdown offers great report writing functionality R popular among statisticians new statistical methods likely implemented R language might equally suited programming languages - however stage make decision :)","code":""},{"path":"/articles/faq.html","id":"why-do-we-use-a-certain-r-version-and-package-versions-for-development","dir":"Articles","previous_headings":"","what":"Why do we use a certain R version and package versions for development?","title":"FAQ","text":"choice R Version set stone. However, common development environment important establish working across multiple companies multiple developers. currently work R Version 3.6.3, change move forward {datacutr}. need common development environment also carries choice package versions. GitHub allows us Actions/Workflows test {datacutr} several versions R well several versions dependent R packages needed {datacutr}. Currently test {datacutr} R Version 3.6.3 CRAN package snapshot 2020-02-29, R Version 4.0 CRAN package snapshot 2021-03-31 latest R version latest snapshots packages. can view workflow GitHub Repository. common development allows us easily re-create bugs provide solutions issues developers encounter. Reviewers Pull Requests running code know environment identical initiator Pull Request. ensures faster review times higher quality Pull Request reviews. achieve common development environment using lockfile created renv package. New developers encounter suggested renv::restore() console revert move forward R version package versions.","code":""},{"path":"/articles/faq.html","id":"how-does-a-user-know-what-a-function-does-exactly","dir":"Articles","previous_headings":"","what":"How does a user know what a function does exactly?","title":"FAQ","text":"Function details purpose, requirements, parameters, dependencies examples documented header function. Complex functions potentially vignette {datacutr} homepage provide details.","code":""},{"path":"/articles/faq.html","id":"in-which-order-does-a-user-need-to-execute-the-functions","dir":"Articles","previous_headings":"","what":"In which order does a user need to execute the functions?","title":"FAQ","text":"Guidance provided template scripts.","code":""},{"path":"/articles/faq.html","id":"is-the-datacutr-package-validated","dir":"Articles","previous_headings":"","what":"Is the {datacutr} package validated?","title":"FAQ","text":"functions reviewed tested (see provided around function testing?) ensure work described documentation. Test cases function part R package. Users can add tests provide additional feedback. testing {datacutr} team function replace QC validation process company. GitHub action (using open source packages) exists generate validation report R package, option company use.","code":""},{"path":"/articles/faq.html","id":"what-will-be-provided-around-function-testing","dir":"Articles","previous_headings":"","what":"What will be provided around function testing?","title":"FAQ","text":"Unit tests reliability function - available part open source release validation able use package company-specific SCE GxP purposes associated audit evidence strategy use {datacutr} fits company-specific quality assurance process see guidance unit testing","code":""},{"path":"/articles/faq.html","id":"will-there-be-a-usercontribution-guide","dir":"Articles","previous_headings":"","what":"Will there be a user/contribution guide?","title":"FAQ","text":"programming strategy serves framework users create functions. Please see contribution model website detailed description contribute","code":""},{"path":"/articles/modular.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Modular Approach","text":"article describes cut study SDTM data using modular approach enable study project specific customization.","code":""},{"path":"/articles/modular.html","id":"programming-flow","dir":"Articles","previous_headings":"","what":"Programming Flow","title":"Modular Approach","text":"Read Data Create DCUT Dataset Preprocess Datasets Specify Cut Types Patient Cut Date Cut DM Cut Apply Cut Output Final List Cut Datasets","code":""},{"path":"/articles/modular.html","id":"readdata","dir":"Articles","previous_headings":"Programming Flow","what":"Read in Data","title":"Modular Approach","text":"start, SDTM data cut needs read environment. stored list.","code":"library(datacutr) library(admiraldev) library(dplyr) library(lubridate) library(stringr) library(purrr)  source(here::here('inst/templates/dummy_data.R')) source_data <- list(ds=ds, dm=dm, ae=ae, sc=sc, lb=lb, fa=fa, ts=ts)"},{"path":"/articles/modular.html","id":"dcut","dir":"Articles","previous_headings":"Programming Flow","what":"Create DCUT Dataset","title":"Modular Approach","text":"next step create DCUT dataset containing datacut date description.","code":"dcut <- create_dcut(dataset_ds = ds,                     ds_date_var = DSSTDTC,                     filter = DSDECOD == \"RANDOMIZATION\",                     cut_date = \"2022-06-04\",                     cut_description = \"Clinical Cutoff Date\")"},{"path":"/articles/modular.html","id":"preprocess","dir":"Articles","previous_headings":"Programming Flow","what":"Preprocess Datasets","title":"Modular Approach","text":"pre-processing datasets needed, example case FA, multiple date variables, done next.","code":"source_data$fa <- source_data$fa %>%   mutate(DCUT_TEMP_FAXDTC = case_when(     FASTDTC!=\"\" ~ FASTDTC,     FADTC!=\"\"   ~ FADTC,     TRUE        ~ as.character(NA)   ))"},{"path":"/articles/modular.html","id":"cuttypes","dir":"Articles","previous_headings":"Programming Flow","what":"Specify Cut Types","title":"Modular Approach","text":"’ll next specify cut types dataset (patient cut, date cut cut) case date cut date variable used.","code":"patient_cut_list <- c(\"sc\",\"ds\")  date_cut_list <- rbind(c(\"ae\", \"AESTDTC\"),                        c(\"lb\", \"LBDTC\"),                        c(\"fa\", \"DCUT_TEMP_FAXDTC\"))  no_cut_list <- list(ts=source_data$ts)"},{"path":"/articles/modular.html","id":"ptcut","dir":"Articles","previous_headings":"Programming Flow","what":"Patient Cut","title":"Modular Approach","text":"Next ’ll apply patient cut. adds temporary flag variables indicating observations removed, example SC:","code":"patient_cut_data <- lapply(   source_data[patient_cut_list], pt_cut, dataset_cut = dcut )"},{"path":"/articles/modular.html","id":"dtcut","dir":"Articles","previous_headings":"Programming Flow","what":"Date Cut","title":"Modular Approach","text":"Next ’ll apply date cut. adds temporary flag variables indicating observations removed, example AE:","code":"date_cut_data <- pmap(   .l=list(dataset_sdtm = source_data[date_cut_list[,1]],           sdtm_date_var = syms(date_cut_list[,2])),   .f=date_cut,   dataset_cut = dcut,   cut_var = DCUTDTM )"},{"path":"/articles/modular.html","id":"dmcut","dir":"Articles","previous_headings":"Programming Flow","what":"DM Cut","title":"Modular Approach","text":"lastly ’ll apply special DM cut also updates death related variables. adds temporary variables indicating death records change result applying datacut:","code":"dm_cut <- special_dm_cut(dataset_dm = source_data$dm,                          dataset_cut = dcut,                          cut_var = DCUTDTM)"},{"path":"/articles/modular.html","id":"applycut","dir":"Articles","previous_headings":"Programming Flow","what":"Apply Cut","title":"Modular Approach","text":"last step create RMD report, summarize patients observations cut, apply cut strip observations flagged removed.","code":"cut_data <- purrr::map(   c(patient_cut_data, date_cut_data, list(dm = dm_cut)),   apply_cut,   dcutvar = DCUT_TEMP_REMOVE,   dthchangevar = DCUT_TEMP_DTHCHANGE )"},{"path":"/articles/modular.html","id":"output","dir":"Articles","previous_headings":"Programming Flow","what":"Output Final List of Cut Datasets","title":"Modular Approach","text":"Lastly, create final list cut SDTM data, adding SDTM cut needed.","code":"final_data <- c(cut_data, no_cut_list, list(dcut = dcut))  list2env(final_data, envir = globalenv()) #> <environment: R_GlobalEnv>"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tim Barnett. Author, maintainer. Nathan Rees. Author. Alana Harris. Author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Barnett T, Rees N, Harris (2022). datacutr: Datacut R. R package version 0.0.1.","code":"@Manual{,   title = {datacutr: Datacut in R},   author = {Tim Barnett and Nathan Rees and Alana Harris},   year = {2022},   note = {R package version 0.0.1}, }"},{"path":"/index.html","id":"datacutr-","dir":"","previous_headings":"","what":"Datacut in R","title":"Datacut in R","text":"SDTM Cut R Asset Library","code":""},{"path":"/index.html","id":"purpose","dir":"","previous_headings":"","what":"Purpose","title":"Datacut in R","text":"provide open source, modularized toolbox enables pharmaceutical programming community apply data cut SDTM data R.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Datacut in R","text":"package currently development, installation details added soon.","code":""},{"path":"/index.html","id":"main-goal","dir":"","previous_headings":"","what":"Main Goal","title":"Datacut in R","text":"Provide users open source, modularized toolbox apply data cut SDTM data R. opposed “run 1 line cut SDTM appear” black-box solution. One key aspects {datacutr} development users users. gives entry point collaborate, co-create contribute consistent approach cutting SDTM data R, whilst also allowing flexibility update study specific needs needed.","code":""},{"path":"/index.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Datacut in R","text":"package works tabulation data following SDTMv standard (.e. supplemental qualifier domains). user flexibility choose style cut applied individual domain (either cut, patient cut, xxSTDTC xxDTC cut, special DM cut special FA cut).","code":""},{"path":"/index.html","id":"references-and-documentation","dir":"","previous_headings":"","what":"References and Documentation","title":"Datacut in R","text":"package currently development, references documentation details added soon.","code":""},{"path":"/index.html","id":"contact","dir":"","previous_headings":"","what":"Contact","title":"Datacut in R","text":"Whilst package development please feel free reach one core developers: Tim Barnett (Maintainer) - timothy.barnett@roche.com Nathan Rees - nathan.rees@roche.com Alana Harris - alana.harris@roche.com package finalized use following support communications user developer community: Slack - informal discussions, Q&building user community. don’t access, use link join pharmaverse Slack workspace GitHub Issues - direct feedback, enhancement requests raising bugs","code":""},{"path":"/reference/apply_cut.html","id":null,"dir":"Reference","previous_headings":"","what":"Applies the datacut based on the datacut flagging variables — apply_cut","title":"Applies the datacut based on the datacut flagging variables — apply_cut","text":"Removes records datacut flagging variable marked \"Y\". Also, sets death variables (DTHDTC DTHFL) missing death datacut flagging variable marked \"Y\".","code":""},{"path":"/reference/apply_cut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Applies the datacut based on the datacut flagging variables — apply_cut","text":"","code":"apply_cut(dsin, dcutvar, dthchangevar)"},{"path":"/reference/apply_cut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Applies the datacut based on the datacut flagging variables — apply_cut","text":"dsin Name input dataframe dcutvar Name input datacut flagging variable (created pt_cut sdtm_cut functions) dthchangevar Name input death datacut flagging variable (created special_dm_cut function)","code":""},{"path":"/reference/apply_cut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Applies the datacut based on the datacut flagging variables — apply_cut","text":"Returns input dataframe, excluding rows dcutvar flagged \"Y\". DTHDTC DTHFL set missing records dthchangevar flagged \"Y\". variables \"DCUT_TEMP\" prefix removed.","code":""},{"path":"/reference/apply_cut.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Applies the datacut based on the datacut flagging variables — apply_cut","text":"","code":"ae <- data.frame(   USUBJID = c(\"UXYZ123a\", \"UXYZ123b\", \"UXYZ123c\", \"UXYZ123d\"),   DCUT_TEMP_REMOVE = c(\"Y\", \"\", \"NA\", NA) ) ae_final <- apply_cut(dsin = ae, dcutvar = DCUT_TEMP_REMOVE, dthchangevar = DCUT_TEMP_DTHCHANGE)  dm <- data.frame(   USUBJID = c(\"UXYZ123a\", \"UXYZ123b\", \"UXYZ123b\"),   DTHDTC = c(\"2014-10-20\", \"2014-10-21\", \"2013-09-08\"),   DTHFL = c(\"Y\", \"Y\", \"Y\"),   DCUT_TEMP_REMOVE = c(NA, NA, \"Y\"),   DCUT_TEMP_DTHCHANGE = c(NA, \"Y\", \"\") ) dm_final <- apply_cut(dsin = dm, dcutvar = DCUT_TEMP_REMOVE, dthchangevar = DCUT_TEMP_DTHCHANGE)"},{"path":"/reference/create_dcut.html","id":null,"dir":"Reference","previous_headings":"","what":"Create DCUT dataset — create_dcut","title":"Create DCUT dataset — create_dcut","text":"Use create datacut dataset containing variables USUBJID, DCUTDTC, DCUTDTM DCUTDESC.","code":""},{"path":"/reference/create_dcut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create DCUT dataset — create_dcut","text":"","code":"create_dcut(dataset_ds, ds_date_var, filter, cut_date, cut_description)"},{"path":"/reference/create_dcut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create DCUT dataset — create_dcut","text":"dataset_ds Input DS SDTMv dataset ds_date_var Character date variable DS SDTMv imputed filter Condition filter patients DS, give 1 row per patient cut_date Datacut date, e.g. \"2022-10-22\" cut_description Datacut date description, e.g. \"Clinical Cut Date\"","code":""},{"path":"/reference/create_dcut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create DCUT dataset — create_dcut","text":"Datacut dataset","code":""},{"path":"/reference/create_dcut.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Create DCUT dataset — create_dcut","text":"Alana Harris","code":""},{"path":"/reference/create_dcut.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create DCUT dataset — create_dcut","text":"","code":"ds <- tibble::tribble(   ~USUBJID, ~DSSEQ, ~DSDECOD, ~DSSTDTC,   \"subject1\", 1, \"INFORMED CONSENT\", \"2020-06-23\",   \"subject1\", 2, \"RANDOMIZATION\", \"2020-08-22\",   \"subject1\", 3, \"WITHDRAWAL BY SUBJECT\", \"2020-05-01\",   \"subject2\", 1, \"INFORMED CONSENT\", \"2020-07-13\",   \"subject3\", 1, \"INFORMED CONSENT\", \"2020-06-03\",   \"subject4\", 1, \"INFORMED CONSENT\", \"2021-01-01\",   \"subject4\", 2, \"RANDOMIZATION\", \"2023-01-01\" )  dcut <- create_dcut(   dataset_ds = ds,   ds_date_var = DSSTDTC,   filter = DSDECOD == \"RANDOMIZATION\",   cut_date = \"2022-01-01\",   cut_description = \"Clinical Cutoff Date\" )"},{"path":"/reference/datacutr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"datacutr: Datacut in R — datacutr-package","title":"datacutr: Datacut in R — datacutr-package","text":"toolbox applying datacut SDTMv.","code":""},{"path":"/reference/datacutr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"datacutr: Datacut in R — datacutr-package","text":"Maintainer: Tim Barnett timothy.barnett@roche.com Authors: Nathan Rees nathan.rees@roche.com Alana Harris alana.harris@roche.com","code":""},{"path":"/reference/date_cut.html","id":null,"dir":"Reference","previous_headings":"","what":"xxSTDTC or xxDTC Cut — date_cut","title":"xxSTDTC or xxDTC Cut — date_cut","text":"Use apply datacut either xxSTDTC xxDTC SDTM date variable. datacut date datacut dataset merged input SDTMv dataset renamed TEMP_DCUT_DCUTDTM. flag TEMP_DCUT_REMOVE added dataset indicate observations removed cut applied. Note function applies patient level datacut time.","code":""},{"path":"/reference/date_cut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"xxSTDTC or xxDTC Cut — date_cut","text":"","code":"date_cut(dataset_sdtm, sdtm_date_var, dataset_cut, cut_var)"},{"path":"/reference/date_cut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"xxSTDTC or xxDTC Cut — date_cut","text":"dataset_sdtm Input SDTMv dataset sdtm_date_var Input date variable found dataset_sdtmv dataset dataset_cut Input datacut dataset cut_var Datacut date variable","code":""},{"path":"/reference/date_cut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"xxSTDTC or xxDTC Cut — date_cut","text":"Input dataset plus flag TEMP_DCUT_REMOVE indicate observations dropped datacut applied","code":""},{"path":"/reference/date_cut.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"xxSTDTC or xxDTC Cut — date_cut","text":"Alana Harris","code":""},{"path":"/reference/date_cut.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"xxSTDTC or xxDTC Cut — date_cut","text":"","code":"library(lubridate) #>  #> Attaching package: ‘lubridate’ #> The following object is masked from ‘package:base’: #>  #>     date dcut <- tibble::tribble(   ~USUBJID, ~DCUTDTM,   \"subject1\", ymd_hms(\"2020-10-11T23:59:59\"),   \"subject2\", ymd_hms(\"2020-10-11T23:59:59\"),   \"subject4\", ymd_hms(\"2020-10-11T23:59:59\") )  ae <- tibble::tribble(   ~USUBJID, ~AESEQ, ~AESTDTC,   \"subject1\", 1, \"2020-01-02T00:00:00\",   \"subject1\", 2, \"2020-08-31T00:00:00\",   \"subject1\", 3, \"2020-10-10T00:00:00\",   \"subject2\", 2, \"2020-02-20T00:00:00\",   \"subject3\", 1, \"2020-03-02T00:00:00\",   \"subject4\", 1, \"2020-11-02T00:00:00\",   \"subject4\", 2, \"\" )  ae_out <- date_cut(   dataset_sdtm = ae,   sdtm_date_var = AESTDTC,   dataset_cut = dcut,   cut_var = DCUTDTM )"},{"path":"/reference/drop_temp_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Drops Temporary Variables From a Dataset — drop_temp_vars","title":"Drops Temporary Variables From a Dataset — drop_temp_vars","text":"Drops temporary variables (variables beginning TEMP_) input dataset. Also allows user specify whether drop temporary variables needed throughout datacut process (variables beginning DCUT_TEMP_).","code":""},{"path":"/reference/drop_temp_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Drops Temporary Variables From a Dataset — drop_temp_vars","text":"","code":"drop_temp_vars(dsin, drop_dcut_temp = TRUE)"},{"path":"/reference/drop_temp_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Drops Temporary Variables From a Dataset — drop_temp_vars","text":"dsin Name input dataframe drop_dcut_temp Whether drop variables beginning DCUT_TEMP_ (TRUE/FALSE).","code":""},{"path":"/reference/drop_temp_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Drops Temporary Variables From a Dataset — drop_temp_vars","text":"Returns input dataframe, excluding temporary variables.","code":""},{"path":"/reference/drop_temp_vars.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Drops Temporary Variables From a Dataset — drop_temp_vars","text":"idea , used throughout datacut process, drop_dcut_temp always set FALSE end datacut process, case, drop_dcut_temp set TRUE.","code":""},{"path":"/reference/drop_temp_vars.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Drops Temporary Variables From a Dataset — drop_temp_vars","text":"","code":"test <- data.frame(USUBJID = c(\"\"), TEMP_XYZ = c(\"\"), DCUT_TEMP_XYZ = c(\"\")) drop_temp_vars(dsin = test) # Drops temp_ and dcut_temp_ variables #>   USUBJID #> 1         drop_temp_vars(dsin = test, drop_dcut_temp = TRUE) # Drops temp_ and dcut_temp_ variables #>   USUBJID #> 1         drop_temp_vars(dsin = test, drop_dcut_temp = FALSE) # Drops temp_ variables #>   USUBJID DCUT_TEMP_XYZ #> 1"},{"path":"/reference/impute_dcutdtc.html","id":null,"dir":"Reference","previous_headings":"","what":"Imputes Partial Dates in DCUTDTC — impute_dcutdtc","title":"Imputes Partial Dates in DCUTDTC — impute_dcutdtc","text":"Imputes partial dates DCUTDTC variable, created within datacut process.","code":""},{"path":"/reference/impute_dcutdtc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Imputes Partial Dates in DCUTDTC — impute_dcutdtc","text":"","code":"impute_dcutdtc(dsin, varin, varout)"},{"path":"/reference/impute_dcutdtc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Imputes Partial Dates in DCUTDTC — impute_dcutdtc","text":"dsin Name input dataframe varin Name input datacut date variable varout Name imputed output variable","code":""},{"path":"/reference/impute_dcutdtc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Imputes Partial Dates in DCUTDTC — impute_dcutdtc","text":"Returns input dataframe, additional one extra variable (varout) imputed version varin.","code":""},{"path":"/reference/impute_dcutdtc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Imputes Partial Dates in DCUTDTC — impute_dcutdtc","text":"","code":"dcut <- data.frame(   USUBJID = c(\"UXYZ123a\", \"UXYZ123b\", \"UXYZ123c\", \"UXYZ123d\"),   DCUTDTC = c(\"2022-06-23\", \"2022-06-23T16\", \"2022-06-23T16:57\", \"2022-06-23T16:57:30\") ) dcut_final <- impute_dcutdtc(dsin = dcut, varin = DCUTDTC, varout = DCUTDTM)"},{"path":"/reference/impute_sdtm.html","id":null,"dir":"Reference","previous_headings":"","what":"Imputes Partial Dates in SDTM Variables — impute_sdtm","title":"Imputes Partial Dates in SDTM Variables — impute_sdtm","text":"Imputes partial dates SDTM variables part datacut process.","code":""},{"path":"/reference/impute_sdtm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Imputes Partial Dates in SDTM Variables — impute_sdtm","text":"","code":"impute_sdtm(dsin, varin, varout)"},{"path":"/reference/impute_sdtm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Imputes Partial Dates in SDTM Variables — impute_sdtm","text":"dsin Name input dataframe varin Name input SDTM variable varout Name imputed output variable","code":""},{"path":"/reference/impute_sdtm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Imputes Partial Dates in SDTM Variables — impute_sdtm","text":"Returns input dataframe, additional one extra variable (varout) imputed version varin.","code":""},{"path":"/reference/impute_sdtm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Imputes Partial Dates in SDTM Variables — impute_sdtm","text":"","code":"ex <- admiral.test::admiral_ex ex <- dplyr::select(ex, c(USUBJID, EXSTDTC)) temp_ex <- impute_sdtm(dsin = ex, varin = EXSTDTC, varout = DCUT_TEMP_EXSTDTC)"},{"path":"/reference/process_cut.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function to prepare and apply the datacut — process_cut","title":"Wrapper function to prepare and apply the datacut — process_cut","text":"Applies selected type datacut SDTM dataset based selected SDTM date variable, outputs resulting cut datasets. also provides option perform \"special\" cut demography (dm) domain deaths occurring datacut date removed.","code":""},{"path":"/reference/process_cut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function to prepare and apply the datacut — process_cut","text":"","code":"process_cut(   source_sdtm_data,   patient_cut_v,   date_cut_m,   no_cut_v,   dataset_cut,   cut_var,   special_dm = TRUE )"},{"path":"/reference/process_cut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function to prepare and apply the datacut — process_cut","text":"source_sdtm_data list uncut SDTM dataframes patient_cut_v vector quoted SDTM domain names patient cut applied date_cut_m 2 column matrix, first column quoted SDTM domain names date cut applied second column quoted SDTM date variables used carry date cut SDTM domain. no_cut_v vector quoted SDTM domain names cut applied dataset_cut Input datacut dataset, e.g. dcut cut_var Datacut date variable within dataset_cut dataset, e.g. DCUTDTM special_dm logical input indicating whether \"special dm cut\" performed. Note , TRUE, need specify dm patient_cut_v, date_cut_m no_cut_v","code":""},{"path":"/reference/process_cut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function to prepare and apply the datacut — process_cut","text":"Returns list input SDTM datasets, plus DCUT dataset, performing selected datacut domain.","code":""},{"path":"/reference/process_cut.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function to prepare and apply the datacut — process_cut","text":"","code":"library(\"dplyr\") #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:lubridate’: #>  #>     intersect, setdiff, union #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union dcut <- data.frame(   USUBJID = factor(c(\"a\", \"b\"), levels = c(\"a\", \"b\", \"c\")),   DCUTDTC = c(\"2022-02-17\", \"2022-02-17\") ) %>%   impute_dcutdtc(DCUTDTC, DCUTDTM) sc <- data.frame(USUBJID = c(\"a\", \"a\", \"b\", \"c\")) ts <- data.frame(USUBJID = c(\"a\", \"a\", \"b\", \"c\")) ae <- data.frame(   USUBJID = c(\"a\", \"a\", \"b\", \"c\"),   AESTDTC = c(\"2022-02-16\", \"2022-02-18\", \"2022-02-16\", \"2022-02-16\") ) dm <- data.frame(   USUBJID = c(\"a\", \"b\", \"c\"),   DTHDTC = c(\"2022-02-14\", \"2022-02-22\", \"2022-02-16\"),   DTHFL = c(\"Y\", \"Y\", \"Y\") ) source_data <- list(sc = sc, ae = ae, dm = dm, ts = ts)  process_cut(   source_sdtm_data = source_data,   patient_cut_v = c(\"sc\"),   date_cut_m = rbind(c(\"ae\", \"AESTDTC\")),   no_cut_v = c(\"ts\"),   dataset_cut = dcut,   cut_var = DCUTDTM,   special_dm = TRUE ) #> Error in lapply(source_data, is.data.frame): object 'source_data' not found"},{"path":"/reference/pt_cut.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient Cut — pt_cut","title":"Patient Cut — pt_cut","text":"Use apply datacut patient cut SDTMv dataset","code":""},{"path":"/reference/pt_cut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient Cut — pt_cut","text":"","code":"pt_cut(dataset_sdtm, dataset_cut)"},{"path":"/reference/pt_cut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Patient Cut — pt_cut","text":"dataset_sdtm Input SDTMv dataset dataset_cut Input datacut dataset, e.g. dcut","code":""},{"path":"/reference/pt_cut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Patient Cut — pt_cut","text":"Input dataset plus flag TEMP_DCUT_REMOVE indicate observations dropped patient level datacut applied","code":""},{"path":"/reference/pt_cut.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Patient Cut — pt_cut","text":"Alana Harris","code":""},{"path":"/reference/pt_cut.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Patient Cut — pt_cut","text":"","code":"library(lubridate) dcut <- tibble::tribble(   ~USUBJID, ~DCUTDTM,   \"subject1\", ymd_hms(\"2020-10-11T23:59:59\"),   \"subject2\", ymd_hms(\"2020-10-11T23:59:59\"),   \"subject4\", ymd_hms(\"2020-10-11T23:59:59\") )  ae <- tibble::tribble(   ~USUBJID, ~AESEQ, ~AESTDTC,   \"subject1\", 1, \"2020-01-02T00:00:00\",   \"subject1\", 2, \"2020-08-31T00:00:00\",   \"subject1\", 3, \"2020-10-10T00:00:00\",   \"subject2\", 2, \"2020-02-20T00:00:00\",   \"subject3\", 1, \"2020-03-02T00:00:00\",   \"subject4\", 1, \"2020-11-02T00:00:00\" )  ae_out <- pt_cut(   dataset_sdtm = ae,   dataset_cut = dcut )"},{"path":"/reference/special_dm_cut.html","id":null,"dir":"Reference","previous_headings":"","what":"Special DM Cut to reset Death variable information past cut date — special_dm_cut","title":"Special DM Cut to reset Death variable information past cut date — special_dm_cut","text":"Clears death information within DM death occurred datacut date","code":""},{"path":"/reference/special_dm_cut.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Special DM Cut to reset Death variable information past cut date — special_dm_cut","text":"","code":"special_dm_cut(dataset_dm, dataset_cut, cut_var = DCUTDTM)"},{"path":"/reference/special_dm_cut.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Special DM Cut to reset Death variable information past cut date — special_dm_cut","text":"dataset_dm Input DM SDTMv dataset dataset_cut Input datacut dataset cut_var Datacut date variable found dataset_cut dataset, default DCUTDTM","code":""},{"path":"/reference/special_dm_cut.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Special DM Cut to reset Death variable information past cut date — special_dm_cut","text":"dataset death information flagged death occurred data cut","code":""},{"path":"/reference/special_dm_cut.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Special DM Cut to reset Death variable information past cut date — special_dm_cut","text":"Tim Barnett","code":""},{"path":"/reference/special_dm_cut.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Special DM Cut to reset Death variable information past cut date — special_dm_cut","text":"","code":"library(dplyr) library(lubridate)  dcut <- tibble::tribble(   ~USUBJID, ~DCUTDTC,   \"01-701-1015\", \"2014-10-20T23:59:59\",   \"01-701-1023\", \"2014-10-20T23:59:59\", ) %>%   mutate(DCUTDTM = ymd_hms(DCUTDTC))  dm <- tibble::tribble(   ~USUBJID, ~DTHDTC, ~DTHFL,   \"01-701-1015\", \"2014-10-20\", \"Y\",   \"01-701-1023\", \"2014-10-21\", \"Y\", )  special_dm_cut(   dataset_dm = dm,   dataset_cut = dcut,   cut_var = DCUTDTM ) #> # A tibble: 2 x 7 #>   USUBJID DTHDTC DTHFL DCUT_TEMP_REMOVE DCUT_TEMP_DTHDT     DCUT_TEMP_DCUTDTM   #>   <chr>   <chr>  <chr> <lgl>            <dttm>              <dttm>              #> 1 01-701… 2014-… Y     NA               2014-10-20 00:00:00 2014-10-20 23:59:59 #> 2 01-701… 2014-… Y     NA               2014-10-21 00:00:00 2014-10-20 23:59:59 #> # … with 1 more variable: DCUT_TEMP_DTHCHANGE <chr>"}]
